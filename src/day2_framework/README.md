# Day 2 Framework - Agent çŠ¶æ€ç®¡ç†ç³»ç»Ÿ

è¿™æ˜¯ day2 å­¦ä¹ é¡¹ç›®çš„å®Œæ•´ Agent çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº Pydantic å®ç°ï¼Œä¾¿äºè°ƒè¯•å’Œè§‚å¯Ÿã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

ç†è§£ Agent çŠ¶æ€ (State) ä¸ Pydantic çš„åº”ç”¨ã€‚Agent æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå®ƒåœ¨"æ€è€ƒ"ã€"æ‰§è¡Œå·¥å…·"ã€"ç­‰å¾…ç»“æœ"ä¹‹é—´æµè½¬ã€‚

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/day2_framework/
â”œâ”€â”€ README.md          # æœ¬æ–‡ä»¶ - é¡¹ç›®è¯´æ˜
â”œâ”€â”€ day2.md           # Day 2 å­¦ä¹ è¦æ±‚å’Œè¯´æ˜
â”œâ”€â”€ state.py          # æ ¸å¿ƒçŠ¶æ€ç®¡ç†æ¨¡å—
â”œâ”€â”€ demo.py           # å®Œæ•´æ¼”ç¤ºè„šæœ¬ï¼ˆäº¤äº’å¼ï¼‰
â”œâ”€â”€ simple_demo.py    # ç®€å•æ¼”ç¤ºè„šæœ¬ï¼ˆéäº¤äº’å¼ï¼‰
â”œâ”€â”€ test_state.py     # ç»¼åˆæµ‹è¯•å¥—ä»¶
â”œâ”€â”€ interactive_demo.py # äº¤äº’å¼æ¼”ç¤º
â””â”€â”€ __init__.py       # æ¨¡å—åˆå§‹åŒ–
```

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### 1. AgentState (æ ¸å¿ƒçŠ¶æ€æ¨¡å‹)

åŸºäº Pydantic çš„çŠ¶æ€ç®¡ç†ï¼ŒåŒ…å«ï¼š

- **åŸºæœ¬ä¿¡æ¯**: agent_id, session_id, user_id
- **çŠ¶æ€ä¿¡æ¯**: status, current_task, è¿›åº¦è¿½è¸ª
- **å¯¹è¯å†å²**: messages, conversation_history
- **å·¥å…·è°ƒç”¨**: tool_calls, current_tool_call
- **æ€è€ƒè¿‡ç¨‹**: thoughts, reasoning_steps
- **ä¸Šä¸‹æ–‡**: context, working_memory, long_term_memory
- **è°ƒè¯•ä¿¡æ¯**: logs, é”™è¯¯è®°å½•, æ€§èƒ½æŒ‡æ ‡

### 2. çŠ¶æ€æšä¸¾

```python
class AgentStatus(str, Enum):
    IDLE = "idle"
    THINKING = "thinking"
    TOOL_SELECTION = "tool_selection"
    TOOL_EXECUTION = "tool_execution"
    RESPONDING = "responding"
    ERROR = "error"
    COMPLETED = "completed"
```

### 3. è°ƒè¯•å™¨ (StateDebugger)

æä¾›ä¸°å¯Œçš„çŠ¶æ€è§‚å¯ŸåŠŸèƒ½ï¼š

- çŠ¶æ€æ‘˜è¦æ˜¾ç¤º
- æ¶ˆæ¯å†å²æŸ¥çœ‹
- å·¥å…·è°ƒç”¨å†å²
- æ€è€ƒè¿‡ç¨‹å±•ç¤º
- æ—¥å¿—è®°å½•æŸ¥çœ‹
- ä¸Šä¸‹æ–‡ä¿¡æ¯æ˜¾ç¤º

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. æ™ºèƒ½æ¶ˆæ¯å¤„ç†

```python
from src.day2_framework.state import Agent

# åˆ›å»º Agent
agent = Agent("my_agent", debug_mode=True)

# å¤„ç†ç”¨æˆ·æ¶ˆæ¯
response = agent.process_user_message("ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹AIæŠ€æœ¯")
```

### 2. çŠ¶æ€ç®¡ç†

```python
# è®¾ç½®å’Œè·å–ä¸Šä¸‹æ–‡
agent.state.set_context("user_preference", "æŠ€æœ¯æ–‡æ¡£")
preference = agent.state.get_context("user_preference")

# å·¥ä½œè®°å¿†
agent.state.set_working_memory("last_result", calculation_result)
```

### 3. è°ƒè¯•è§‚å¯Ÿ

```python
# æ˜¾ç¤ºçŠ¶æ€æ‘˜è¦
agent.debugger.display_state_summary(agent.state)

# æ˜¾ç¤ºå®Œæ•´è°ƒè¯•ä¿¡æ¯
agent.debugger.display_full_debug_info(agent.state)
```

### 4. çŠ¶æ€æŒä¹…åŒ–

```python
# ä¿å­˜çŠ¶æ€
agent.save_state("agent_state.json")

# åŠ è½½çŠ¶æ€
agent.load_state("agent_state.json")
```

## ğŸ§ª è¿è¡Œæ¼”ç¤º

### ç®€å•æ¼”ç¤ºï¼ˆæ¨èï¼‰

```bash
python src/day2_framework/simple_demo.py
```

### å®Œæ•´æµ‹è¯•å¥—ä»¶

```bash
python src/day2_framework/test_state.py
```

### äº¤äº’å¼æ¼”ç¤º

```bash
python src/day2_framework/interactive_demo.py
```

## ğŸ’¡ ä½¿ç”¨ Pydantic çš„ä¼˜åŠ¿

ç›¸æ¯”æ™®é€š Python å­—å…¸ï¼Œä½¿ç”¨ Pydantic å®šä¹‰ State çš„å¥½å¤„ï¼š

1. **ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥
2. **è‡ªåŠ¨éªŒè¯**: æ•°æ®å®Œæ•´æ€§ä¿è¯
3. **IDE æ”¯æŒ**: è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æç¤º
4. **åºåˆ—åŒ–**: è‡ªåŠ¨ JSON åºåˆ—åŒ–/ååºåˆ—åŒ–
5. **æ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆ schema æ–‡æ¡£
6. **é»˜è®¤å€¼å’ŒéªŒè¯**: å†…ç½®å­—æ®µéªŒè¯é€»è¾‘

## ğŸ­ AI åŠ©æ”»æç¤º

**"ä¸ºä»€ä¹ˆä½¿ç”¨ Pydantic æ¥å®šä¹‰ State æ¯”ä½¿ç”¨æ™®é€šçš„ Python å­—å…¸æ›´å¥½ï¼Ÿè¿™å¯¹äºæ„å»ºå¤æ‚çš„ Agent æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Ÿ"**

ç­”æ¡ˆï¼šPydantic æä¾›äº†ç±»å‹å®‰å…¨ã€è‡ªåŠ¨éªŒè¯ã€IDE æ”¯æŒã€åºåˆ—åŒ–èƒ½åŠ›ç­‰ä¼˜åŠ¿ï¼Œè¿™äº›éƒ½æ˜¯æ„å»ºå¤æ‚ AI Agent ç³»ç»Ÿæ‰€å¿…éœ€çš„åŸºç¡€è®¾æ–½ã€‚

## ğŸ”§ é›†æˆ AI æœåŠ¡

ç³»ç»Ÿé›†æˆäº† DeepSeek API (å‚è€ƒ day1 å®ç°)ï¼Œæ”¯æŒï¼š

- AI èŠå¤©å¯¹è¯
- æ–‡æ¡£åˆ†æ
- æƒ…æ„Ÿåˆ†æ
- å†…å®¹æ‘˜è¦

## ğŸ“Š æ€§èƒ½ç›‘æ§

å†…ç½®æ€§èƒ½æŒ‡æ ‡ç›‘æ§ï¼š

- å·¥å…·æ‰§è¡Œæ—¶é—´
- ä»»åŠ¡æ€»æ‰§è¡Œæ—¶é—´
- æˆåŠŸ/å¤±è´¥ç»Ÿè®¡
- è¯¦ç»†æ—¥å¿—è®°å½•

## ğŸ¨ å¯è§†åŒ–å±•ç¤º

ä½¿ç”¨ Rich åº“æä¾›ç¾è§‚çš„ç»ˆç«¯è¾“å‡ºï¼š

- è¡¨æ ¼åŒ–çŠ¶æ€æ‘˜è¦
- å½©è‰²æ—¥å¿—æ˜¾ç¤º
- è¿›åº¦æ¡å’Œé¢æ¿
- ç»“æ„åŒ–è°ƒè¯•ä¿¡æ¯

## ğŸ”® æ‰©å±•æ€§

ç³»ç»Ÿè®¾è®¡å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ï¼š

- æ”¯æŒè‡ªå®šä¹‰å·¥å…·ç±»å‹
- å¯æ‰©å±•çš„çŠ¶æ€å­—æ®µ
- çµæ´»çš„æ—¥å¿—ç³»ç»Ÿ
- æ¨¡å—åŒ–çš„è°ƒè¯•å™¨

## ğŸ“ å¼€å‘è¯´æ˜

1. çŠ¶æ€å˜æ›´ä¼šè‡ªåŠ¨è®°å½•æ—¥å¿—
2. æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½æœ‰æ—¶é—´è¿½è¸ª
3. æ”¯æŒçŠ¶æ€çš„é‡ç½®å’Œæ¢å¤
4. æä¾›ä¸°å¯Œçš„è°ƒè¯•æ¥å£

è¿™ä¸ªçŠ¶æ€ç®¡ç†ç³»ç»Ÿä¸ºåç»­ day3 çš„ ReAct å¾ªç¯å’Œå·¥å…·å®ç°æä¾›äº†åšå®çš„åŸºç¡€ã€‚